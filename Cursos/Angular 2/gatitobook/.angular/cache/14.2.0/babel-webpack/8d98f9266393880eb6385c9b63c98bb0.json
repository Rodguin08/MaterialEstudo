{"ast":null,"code":"const {\n  dirname\n} = require('path');\n\nconst {\n  findMade,\n  findMadeSync\n} = require('./find-made.js');\n\nconst {\n  mkdirpManual,\n  mkdirpManualSync\n} = require('./mkdirp-manual.js');\n\nconst mkdirpNative = (path, opts) => {\n  opts.recursive = true;\n  const parent = dirname(path);\n  if (parent === path) return opts.mkdirAsync(path, opts);\n  return findMade(opts, path).then(made => opts.mkdirAsync(path, opts).then(() => made).catch(er => {\n    if (er.code === 'ENOENT') return mkdirpManual(path, opts);else throw er;\n  }));\n};\n\nconst mkdirpNativeSync = (path, opts) => {\n  opts.recursive = true;\n  const parent = dirname(path);\n  if (parent === path) return opts.mkdirSync(path, opts);\n  const made = findMadeSync(opts, path);\n\n  try {\n    opts.mkdirSync(path, opts);\n    return made;\n  } catch (er) {\n    if (er.code === 'ENOENT') return mkdirpManualSync(path, opts);else throw er;\n  }\n};\n\nmodule.exports = {\n  mkdirpNative,\n  mkdirpNativeSync\n};","map":null,"metadata":{},"sourceType":"script"}