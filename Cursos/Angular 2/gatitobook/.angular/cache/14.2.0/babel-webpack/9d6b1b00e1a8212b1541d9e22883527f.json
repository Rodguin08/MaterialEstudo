{"ast":null,"code":"// Function to determine whether a path is in the package.bin set.\n// Used to prevent issues when people publish a package from a\n// windows machine, and then install with --no-bin-links.\n//\n// Note: this is not possible in remote or file fetchers, since\n// we don't have the manifest until AFTER we've unpacked.  But the\n// main use case is registry fetching with git a distant second,\n// so that's an acceptable edge case to not handle.\nconst binObj = (name, bin) => typeof bin === 'string' ? {\n  [name]: bin\n} : bin;\n\nconst hasBin = (pkg, path) => {\n  const bin = binObj(pkg.name, pkg.bin);\n  const p = path.replace(/^[^\\\\/]*\\//, '');\n\n  for (const kv of Object.entries(bin)) {\n    if (kv[1] === p) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nmodule.exports = (pkg, path) => pkg && pkg.bin ? hasBin(pkg, path) : false;","map":null,"metadata":{},"sourceType":"script"}