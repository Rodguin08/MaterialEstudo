{"ast":null,"code":"const {\n  FetchError,\n  Headers,\n  Request,\n  Response\n} = require('minipass-fetch');\n\nconst configureOptions = require('./options.js');\n\nconst fetch = require('./fetch.js');\n\nconst makeFetchHappen = (url, opts) => {\n  const options = configureOptions(opts);\n  const request = new Request(url, options);\n  return fetch(request, options);\n};\n\nmakeFetchHappen.defaults = (defaultUrl, defaultOptions = {}, wrappedFetch = makeFetchHappen) => {\n  if (typeof defaultUrl === 'object') {\n    defaultOptions = defaultUrl;\n    defaultUrl = null;\n  }\n\n  const defaultedFetch = (url, options = {}) => {\n    const finalUrl = url || defaultUrl;\n    const finalOptions = { ...defaultOptions,\n      ...options,\n      headers: { ...defaultOptions.headers,\n        ...options.headers\n      }\n    };\n    return wrappedFetch(finalUrl, finalOptions);\n  };\n\n  defaultedFetch.defaults = (defaultUrl1, defaultOptions1 = {}) => makeFetchHappen.defaults(defaultUrl1, defaultOptions1, defaultedFetch);\n\n  return defaultedFetch;\n};\n\nmodule.exports = makeFetchHappen;\nmodule.exports.FetchError = FetchError;\nmodule.exports.Headers = Headers;\nmodule.exports.Request = Request;\nmodule.exports.Response = Response;","map":null,"metadata":{},"sourceType":"script"}