{"ast":null,"code":"const platform = process.env.__TESTING_MKDIRP_PLATFORM__ || process.platform;\n\nconst {\n  resolve,\n  parse\n} = require('path');\n\nconst pathArg = path => {\n  if (/\\0/.test(path)) {\n    // simulate same failure that node raises\n    throw Object.assign(new TypeError('path must be a string without null bytes'), {\n      path,\n      code: 'ERR_INVALID_ARG_VALUE'\n    });\n  }\n\n  path = resolve(path);\n\n  if (platform === 'win32') {\n    const badWinChars = /[*|\"<>?:]/;\n    const {\n      root\n    } = parse(path);\n\n    if (badWinChars.test(path.substr(root.length))) {\n      throw Object.assign(new Error('Illegal characters in path.'), {\n        path,\n        code: 'EINVAL'\n      });\n    }\n  }\n\n  return path;\n};\n\nmodule.exports = pathArg;","map":null,"metadata":{},"sourceType":"script"}