{"ast":null,"code":"// add a sha to a git remote url spec\nconst addGitSha = (spec, sha) => {\n  if (spec.hosted) {\n    const h = spec.hosted;\n    const opt = {\n      noCommittish: true\n    };\n    const base = h.https && h.auth ? h.https(opt) : h.shortcut(opt);\n    return `${base}#${sha}`;\n  } else {\n    // don't use new URL for this, because it doesn't handle scp urls\n    return spec.rawSpec.replace(/#.*$/, '') + `#${sha}`;\n  }\n};\n\nmodule.exports = addGitSha;","map":null,"metadata":{},"sourceType":"script"}