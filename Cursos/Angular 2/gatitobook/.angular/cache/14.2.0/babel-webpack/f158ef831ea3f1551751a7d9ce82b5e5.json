{"ast":null,"code":"const getOptions = require('./common/get-options.js');\n\nconst owner = require('./common/owner-sync.js');\n\nconst withOwnerSync = (path, fn, opts) => {\n  const options = getOptions(opts, {\n    copy: ['owner']\n  });\n  const {\n    uid,\n    gid\n  } = owner.validate(path, options.owner);\n  const result = fn({\n    uid,\n    gid\n  });\n  owner.update(path, uid, gid);\n\n  if (typeof result === 'string') {\n    owner.update(result, uid, gid);\n  }\n\n  return result;\n};\n\nmodule.exports = withOwnerSync;","map":null,"metadata":{},"sourceType":"script"}