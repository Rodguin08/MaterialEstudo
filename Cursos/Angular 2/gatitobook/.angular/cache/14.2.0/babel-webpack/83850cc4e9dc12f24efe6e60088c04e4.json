{"ast":null,"code":"const {\n  URL\n} = require('url');\n\nconst replace = '***';\nconst tokenRegex = /\\bnpm_[a-zA-Z0-9]{36}\\b/g;\nconst guidRegex = /\\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\b/g;\n\nconst cleanUrl = str => {\n  if (typeof str !== 'string' || !str) {\n    return str;\n  }\n\n  try {\n    const url = new URL(str);\n\n    if (url.password) {\n      str = str.replace(url.password, replace);\n    }\n  } catch {// ignore errors\n  }\n\n  return str.replace(tokenRegex, `npm_${replace}`).replace(guidRegex, `npm_${replace}`);\n};\n\nmodule.exports = cleanUrl;","map":null,"metadata":{},"sourceType":"script"}