{"ast":null,"code":"var _asyncToGenerator = require(\"C:/Users/Voluti/Desktop/Git/Cursos/Angular 2/gatitobook/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nconst pinflight = require('promise-inflight');\n\nconst spawn = require('./spawn.js');\n\nconst LRU = require('lru-cache');\n\nconst revsCache = new LRU({\n  max: 100,\n  ttl: 5 * 60 * 1000\n});\n\nconst linesToRevs = require('./lines-to-revs.js');\n\nmodule.exports = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (repo, opts = {}) {\n    if (!opts.noGitRevCache) {\n      const cached = revsCache.get(repo);\n\n      if (cached) {\n        return cached;\n      }\n    }\n\n    return pinflight(`ls-remote:${repo}`, () => spawn(['ls-remote', repo], opts).then(({\n      stdout\n    }) => linesToRevs(stdout.trim().split('\\n'))).then(revs => {\n      revsCache.set(repo, revs);\n      return revs;\n    }));\n  });\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"script"}