{"ast":null,"code":"'use strict';\n\nvar _classPrivateFieldInitSpec = require(\"C:/Users/Voluti/Desktop/Git/Cursos/Angular 2/gatitobook/node_modules/@babel/runtime/helpers/classPrivateFieldInitSpec.js\").default;\n\nvar _classPrivateFieldGet = require(\"C:/Users/Voluti/Desktop/Git/Cursos/Angular 2/gatitobook/node_modules/@babel/runtime/helpers/classPrivateFieldGet.js\").default;\n\nvar _classPrivateFieldSet = require(\"C:/Users/Voluti/Desktop/Git/Cursos/Angular 2/gatitobook/node_modules/@babel/runtime/helpers/classPrivateFieldSet.js\").default;\n\nconst MinipassPipeline = require('minipass-pipeline');\n\nvar _events = /*#__PURE__*/new WeakMap();\n\nvar _data = /*#__PURE__*/new WeakMap();\n\nclass CachingMinipassPipeline extends MinipassPipeline {\n  constructor(opts, ...streams) {\n    // CRITICAL: do NOT pass the streams to the call to super(), this will start\n    // the flow of data and potentially cause the events we need to catch to emit\n    // before we've finished our own setup. instead we call super() with no args,\n    // finish our setup, and then push the streams into ourselves to start the\n    // data flow\n    super();\n\n    _classPrivateFieldInitSpec(this, _events, {\n      writable: true,\n      value: []\n    });\n\n    _classPrivateFieldInitSpec(this, _data, {\n      writable: true,\n      value: new Map()\n    });\n\n    _classPrivateFieldSet(this, _events, opts.events);\n    /* istanbul ignore next - coverage disabled because this is pointless to test here */\n\n\n    if (streams.length) {\n      this.push(...streams);\n    }\n  }\n\n  on(event, handler) {\n    if (_classPrivateFieldGet(this, _events).includes(event) && _classPrivateFieldGet(this, _data).has(event)) {\n      return handler(..._classPrivateFieldGet(this, _data).get(event));\n    }\n\n    return super.on(event, handler);\n  }\n\n  emit(event, ...data) {\n    if (_classPrivateFieldGet(this, _events).includes(event)) {\n      _classPrivateFieldGet(this, _data).set(event, data);\n    }\n\n    return super.emit(event, ...data);\n  }\n\n}\n\nmodule.exports = CachingMinipassPipeline;","map":null,"metadata":{},"sourceType":"script"}