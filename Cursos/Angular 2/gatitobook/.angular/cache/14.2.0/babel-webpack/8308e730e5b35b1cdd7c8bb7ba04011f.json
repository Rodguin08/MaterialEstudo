{"ast":null,"code":"const {\n  promisify\n} = require('util');\n\nconst fs = require('fs');\n\nconst optsArg = opts => {\n  if (!opts) opts = {\n    mode: 0o777,\n    fs\n  };else if (typeof opts === 'object') opts = {\n    mode: 0o777,\n    fs,\n    ...opts\n  };else if (typeof opts === 'number') opts = {\n    mode: opts,\n    fs\n  };else if (typeof opts === 'string') opts = {\n    mode: parseInt(opts, 8),\n    fs\n  };else throw new TypeError('invalid options argument');\n  opts.mkdir = opts.mkdir || opts.fs.mkdir || fs.mkdir;\n  opts.mkdirAsync = promisify(opts.mkdir);\n  opts.stat = opts.stat || opts.fs.stat || fs.stat;\n  opts.statAsync = promisify(opts.stat);\n  opts.statSync = opts.statSync || opts.fs.statSync || fs.statSync;\n  opts.mkdirSync = opts.mkdirSync || opts.fs.mkdirSync || fs.mkdirSync;\n  return opts;\n};\n\nmodule.exports = optsArg;","map":null,"metadata":{},"sourceType":"script"}